"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8272],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>d});var i=r(96540);const s={},c=i.createContext(s);function t(e){const n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(c.Provider,{value:n},e.children)}},71995:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"implementation/tracker/conversions","title":"Conversions","description":"Track purchases, leads, signups, and other goal completions with monetary value.","source":"@site/docs/implementation/tracker/conversions.mdx","sourceDirName":"implementation/tracker","slug":"/implementation/tracker/conversions","permalink":"/implementation/tracker/conversions","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Conversions"},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/implementation/tracker/installation"},"next":{"title":"First Party Tracker","permalink":"/implementation/tracker/first-party"}}');var s=r(74848),c=r(28453);const t={sidebar_position:3,title:"Conversions"},d="Conversions",a={},l=[{value:"Syntax",id:"syntax",level:2},{value:"Examples",id:"examples",level:2},{value:"Purchase",id:"purchase",level:3},{value:"Purchase with Properties",id:"purchase-with-properties",level:3},{value:"Lead (No Monetary Value)",id:"lead-no-monetary-value",level:3},{value:"Signup",id:"signup",level:3},{value:"Subscription Purchase",id:"subscription-purchase",level:3},{value:"E-commerce Implementation",id:"e-commerce-implementation",level:2},{value:"Thank You Page",id:"thank-you-page",level:3},{value:"Dynamic Values (Server-Side Rendering)",id:"dynamic-values-server-side-rendering",level:3},{value:"WooCommerce",id:"woocommerce",level:3},{value:"Shopify",id:"shopify",level:3},{value:"SaaS Implementation",id:"saas-implementation",level:2},{value:"Free Trial Signup",id:"free-trial-signup",level:3},{value:"Paid Subscription",id:"paid-subscription",level:3},{value:"Plan Upgrade",id:"plan-upgrade",level:3},{value:"Properties Reference",id:"properties-reference",level:2},{value:"Timing",id:"timing",level:2},{value:"Conversions Count as Pageviews",id:"conversions-count-as-pageviews",level:3},{value:"Wait for Tracker to Load",id:"wait-for-tracker-to-load",level:3},{value:"Deduplication",id:"deduplication",level:2}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"conversions",children:"Conversions"})}),"\n",(0,s.jsx)(n.p,{children:"Track purchases, leads, signups, and other goal completions with monetary value."}),"\n",(0,s.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv(type, amount);\nsealmetrics.conv(type, amount, properties);\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsxs)(n.td,{children:["Conversion name (e.g., ",(0,s.jsx)(n.code,{children:"'purchase'"}),", ",(0,s.jsx)(n.code,{children:"'lead'"}),", ",(0,s.jsx)(n.code,{children:"'signup'"}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"amount"})}),(0,s.jsx)(n.td,{children:"number"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsxs)(n.td,{children:["Monetary value. Use ",(0,s.jsx)(n.code,{children:"0"})," for non-monetary conversions"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"properties"})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Custom key-value data"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h3,{id:"purchase",children:"Purchase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('purchase', 99.99);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"purchase-with-properties",children:"Purchase with Properties"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('purchase', 149.99, {\n  order_id: 'ORD-2025-001234',\n  currency: 'EUR',\n  payment_method: 'credit_card',\n  coupon: 'SAVE10'\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"lead-no-monetary-value",children:"Lead (No Monetary Value)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('lead', 0, {\n  form_name: 'contact_form',\n  source: 'homepage'\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"signup",children:"Signup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('signup', 0, {\n  plan: 'trial',\n  referral_code: 'FRIEND20'\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"subscription-purchase",children:"Subscription Purchase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('purchase', 49, {\n  plan: 'pro_monthly',\n  currency: 'USD',\n  billing_cycle: 'monthly'\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"e-commerce-implementation",children:"E-commerce Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"thank-you-page",children:"Thank You Page"}),"\n",(0,s.jsx)(n.p,{children:"Place on your order confirmation page:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<script src=\"https://t.sealmetrics.com/t.js?id=YOUR_ACCOUNT_ID&group=checkout\" defer><\/script>\n<script>\n  // Wait for tracker to load\n  window.addEventListener('load', function() {\n    sealmetrics.conv('purchase', 189.99, {\n      order_id: 'ORD-2025-001234',\n      currency: 'EUR',\n      items_count: '3',\n      payment_method: 'credit_card'\n    });\n  });\n<\/script>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"dynamic-values-server-side-rendering",children:"Dynamic Values (Server-Side Rendering)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<script src=\"https://t.sealmetrics.com/t.js?id=YOUR_ACCOUNT_ID&group=checkout\" defer><\/script>\n<script>\n  window.addEventListener('load', function() {\n    sealmetrics.conv('purchase', <?php echo $order->total; ?>, {\n      order_id: '<?php echo $order->id; ?>',\n      currency: '<?php echo $order->currency; ?>'\n    });\n  });\n<\/script>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"woocommerce",children:"WooCommerce"}),"\n",(0,s.jsxs)(n.p,{children:["In ",(0,s.jsx)(n.code,{children:"functions.php"})," or a custom plugin:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"add_action('woocommerce_thankyou', function($order_id) {\n  $order = wc_get_order($order_id);\n  ?>\n  <script>\n    window.addEventListener('load', function() {\n      sealmetrics.conv('purchase', <?php echo $order->get_total(); ?>, {\n        order_id: '<?php echo $order_id; ?>',\n        currency: '<?php echo $order->get_currency(); ?>',\n        payment_method: '<?php echo $order->get_payment_method(); ?>'\n      });\n    });\n  <\/script>\n  <?php\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shopify",children:"Shopify"}),"\n",(0,s.jsxs)(n.p,{children:["In your ",(0,s.jsx)(n.code,{children:"checkout.liquid"})," or via Shopify Additional Scripts:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<script>\n  window.addEventListener('load', function() {\n    sealmetrics.conv('purchase', {{ checkout.total_price | money_without_currency | remove: ',' }}, {\n      order_id: '{{ order.name }}',\n      currency: '{{ checkout.currency }}'\n    });\n  });\n<\/script>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"saas-implementation",children:"SaaS Implementation"}),"\n",(0,s.jsx)(n.h3,{id:"free-trial-signup",children:"Free Trial Signup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"document.querySelector('#signup-form').addEventListener('submit', function(e) {\n  sealmetrics.conv('signup', 0, {\n    plan: 'trial',\n    source: 'pricing_page'\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"paid-subscription",children:"Paid Subscription"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// After successful payment\nsealmetrics.conv('purchase', 49, {\n  plan: 'pro',\n  billing_cycle: 'monthly',\n  currency: 'USD'\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"plan-upgrade",children:"Plan Upgrade"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sealmetrics.conv('upgrade', 99, {\n  from_plan: 'starter',\n  to_plan: 'pro',\n  currency: 'USD'\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"properties-reference",children:"Properties Reference"}),"\n",(0,s.jsx)(n.p,{children:"Common properties to include:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"order_id"})}),(0,s.jsx)(n.td,{children:"Unique order identifier"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"'ORD-2025-001234'"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"currency"})}),(0,s.jsx)(n.td,{children:"ISO 4217 currency code"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'EUR'"}),", ",(0,s.jsx)(n.code,{children:"'USD'"}),", ",(0,s.jsx)(n.code,{children:"'GBP'"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"payment_method"})}),(0,s.jsx)(n.td,{children:"Payment type"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'credit_card'"}),", ",(0,s.jsx)(n.code,{children:"'paypal'"}),", ",(0,s.jsx)(n.code,{children:"'bank_transfer'"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"coupon"})}),(0,s.jsx)(n.td,{children:"Discount code used"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"'SAVE10'"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"items_count"})}),(0,s.jsx)(n.td,{children:"Number of items"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"'3'"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"plan"})}),(0,s.jsx)(n.td,{children:"Subscription plan name"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'pro'"}),", ",(0,s.jsx)(n.code,{children:"'enterprise'"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"billing_cycle"})}),(0,s.jsx)(n.td,{children:"Billing frequency"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"'monthly'"}),", ",(0,s.jsx)(n.code,{children:"'yearly'"})]})]})]})]}),"\n",(0,s.jsxs)(n.admonition,{title:"Property Values Must Be Strings",type:"warning",children:[(0,s.jsx)(n.p,{children:"All property values are transmitted as strings. Numbers and booleans are automatically converted."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Both work the same:\nsealmetrics.conv('purchase', 99, { items_count: 3 });\nsealmetrics.conv('purchase', 99, { items_count: '3' });\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"timing",children:"Timing"}),"\n",(0,s.jsx)(n.h3,{id:"conversions-count-as-pageviews",children:"Conversions Count as Pageviews"}),"\n",(0,s.jsxs)(n.p,{children:["Every conversion event also counts as a pageview. Do not call ",(0,s.jsx)(n.code,{children:"sealmetrics()"})," separately on the same page."]}),"\n",(0,s.jsx)(n.h3,{id:"wait-for-tracker-to-load",children:"Wait for Tracker to Load"}),"\n",(0,s.jsx)(n.p,{children:"If calling conversion immediately on page load, wait for the script:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"window.addEventListener('load', function() {\n  sealmetrics.conv('purchase', 99.99);\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or check if function exists:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (typeof sealmetrics !== 'undefined') {\n  sealmetrics.conv('purchase', 99.99);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"deduplication",children:"Deduplication"}),"\n",(0,s.jsx)(n.p,{children:"Sealmetrics does not deduplicate conversions automatically. To prevent duplicate tracking:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Server-side flag"}),': Mark orders as "tracked" in your database']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"One-time page"}),": Redirect after conversion so refreshing doesn't re-trigger"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Session check"}),": Use your own session logic to track if conversion was already sent"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example with localStorage (client-side):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"var orderId = 'ORD-2025-001234';\nif (!localStorage.getItem('tracked_' + orderId)) {\n  sealmetrics.conv('purchase', 99.99, { order_id: orderId });\n  localStorage.setItem('tracked_' + orderId, 'true');\n}\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Sealmetrics does not use localStorage, but your deduplication logic can."})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);