"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7591],{28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}},32327:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api/organizations","title":"Organizations","description":"Complete reference for managing organizations, team members, site access, and invitations in SealMetrics multi-tenancy system.","source":"@site/docs/api/organizations.mdx","sourceDirName":"api","slug":"/api/organizations","permalink":"/api/organizations","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Organizations"},"sidebar":"tutorialSidebar","previous":{"title":"Sites","permalink":"/api/sites"},"next":{"title":"Stats Endpoints","permalink":"/api/stats"}}');var r=s(74848),t=s(28453);const d={sidebar_position:6,title:"Organizations"},a="Organizations API",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Understanding Multi-Tenancy",id:"understanding-multi-tenancy",level:2},{value:"Organization Roles",id:"organization-roles",level:3},{value:"Organization Endpoints",id:"organization-endpoints",level:2},{value:"List Organizations",id:"list-organizations",level:3},{value:"Create Organization",id:"create-organization",level:3},{value:"Get Organization",id:"get-organization",level:3},{value:"Update Organization",id:"update-organization",level:3},{value:"Delete Organization",id:"delete-organization",level:3},{value:"Member Endpoints",id:"member-endpoints",level:2},{value:"List Members",id:"list-members",level:3},{value:"Add Member",id:"add-member",level:3},{value:"Update Member Role",id:"update-member-role",level:3},{value:"Remove Member",id:"remove-member",level:3},{value:"Organization Sites",id:"organization-sites",level:2},{value:"List Organization Sites",id:"list-organization-sites",level:3},{value:"Member Site Access",id:"member-site-access",level:2},{value:"List Member&#39;s Sites",id:"list-members-sites",level:3},{value:"Add Site Access",id:"add-site-access",level:3},{value:"Remove Site Access",id:"remove-site-access",level:3},{value:"Invitation Endpoints",id:"invitation-endpoints",level:2},{value:"List Invitations",id:"list-invitations",level:3},{value:"Send Invitation",id:"send-invitation",level:3},{value:"Resend Invitation",id:"resend-invitation",level:3},{value:"Revoke Invitation",id:"revoke-invitation",level:3},{value:"Accept Invitation Endpoints",id:"accept-invitation-endpoints",level:2},{value:"Accept Invitation (New User)",id:"accept-invitation-new-user",level:3},{value:"Accept Invitation (Existing User)",id:"accept-invitation-existing-user",level:3},{value:"Error Codes",id:"error-codes",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Python",id:"python",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"PHP",id:"php",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Team Structure",id:"team-structure",level:3},{value:"Invitation Workflow",id:"invitation-workflow",level:3},{value:"Security",id:"security",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"organizations-api",children:"Organizations API"})}),"\n",(0,r.jsx)(n.p,{children:"Complete reference for managing organizations, team members, site access, and invitations in SealMetrics multi-tenancy system."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The Organizations API allows you to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create and manage organizations (workspaces)"}),"\n",(0,r.jsx)(n.li,{children:"Invite team members and manage their roles"}),"\n",(0,r.jsx)(n.li,{children:"Control site-level access for team members"}),"\n",(0,r.jsx)(n.li,{children:"List and manage organization sites"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Base path:"})," ",(0,r.jsx)(n.code,{children:"/organizations"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"understanding-multi-tenancy",children:"Understanding Multi-Tenancy"}),"\n",(0,r.jsx)(n.p,{children:"SealMetrics uses a three-level access model:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Users <--M:N--\x3e Organizations <--1:N--\x3e Sites\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Users"})," can belong to multiple organizations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Organizations"})," contain multiple sites (analytics accounts)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Members"})," have roles that determine their permissions"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"organization-roles",children:"Organization Roles"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Role"}),(0,r.jsx)(n.th,{children:"Sites Access"}),(0,r.jsx)(n.th,{children:"Member Management"}),(0,r.jsx)(n.th,{children:"Billing"}),(0,r.jsx)(n.th,{children:"Org Settings"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"owner"})}),(0,r.jsx)(n.td,{children:"All org sites"}),(0,r.jsx)(n.td,{children:"Full (add/remove/role change)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Full (rename, delete)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"admin"})}),(0,r.jsx)(n.td,{children:"All org sites"}),(0,r.jsx)(n.td,{children:"Add/remove members (except owners)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"View only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"member"})}),(0,r.jsx)(n.td,{children:"Only assigned sites"}),(0,r.jsx)(n.td,{children:"View only"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"organization-endpoints",children:"Organization Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"list-organizations",children:"List Organizations"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns all organizations the current user belongs to."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "organizations": [\n      {\n        "id": "550e8400-e29b-41d4-a716-446655440000",\n        "name": "ACME Corporation",\n        "slug": "acme-corporation",\n        "is_active": true,\n        "member_count": 5,\n        "site_count": 3,\n        "user_role": "owner",\n        "created_at": "2024-01-15T10:00:00Z",\n        "updated_at": "2025-01-08T09:15:00Z"\n      }\n    ],\n    "total": 1,\n    "can_create_org": true\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"can_create_org"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"true"})," if user can create a new organization"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_role"})}),(0,r.jsx)(n.td,{children:"Current user's role in this organization"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"create-organization",children:"Create Organization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /organizations\n"})}),"\n",(0,r.jsx)(n.p,{children:"Creates a new organization. The creator becomes the owner."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required scope:"})," ",(0,r.jsx)(n.code,{children:"write"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "My Company"\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Organization name (1-255 chars)"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "550e8400-e29b-41d4-a716-446655440000",\n    "name": "My Company",\n    "slug": "my-company",\n    "is_active": true,\n    "member_count": 1,\n    "site_count": 0,\n    "user_role": "owner",\n    "created_at": "2025-01-10T14:30:00Z",\n    "updated_at": "2025-01-10T14:30:00Z"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," The ",(0,r.jsx)(n.code,{children:"slug"})," is auto-generated from the name and used in URLs."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-organization",children:"Get Organization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations/{slug}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns detailed information about a specific organization."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Path Parameters:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"slug"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Organization slug (from URL)"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "550e8400-e29b-41d4-a716-446655440000",\n    "name": "ACME Corporation",\n    "slug": "acme-corporation",\n    "is_active": true,\n    "member_count": 5,\n    "site_count": 3,\n    "user_role": "admin",\n    "created_at": "2024-01-15T10:00:00Z",\n    "updated_at": "2025-01-08T09:15:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"update-organization",children:"Update Organization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"PATCH /organizations/{slug}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Updates organization settings. Only owners can update."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "ACME Corp (Renamed)"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "550e8400-e29b-41d4-a716-446655440000",\n    "name": "ACME Corp (Renamed)",\n    "slug": "acme-corporation",\n    "is_active": true,\n    "member_count": 5,\n    "site_count": 3,\n    "user_role": "owner",\n    "created_at": "2024-01-15T10:00:00Z",\n    "updated_at": "2025-01-10T15:00:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"delete-organization",children:"Delete Organization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /organizations/{slug}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Soft deletes an organization and all its sites. Requires name confirmation."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "ACME Corporation"\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Type the exact organization name to confirm deletion"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Organization deleted successfully"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Warning:"})," This action deactivates the organization and all associated sites. Data is retained but inaccessible."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"member-endpoints",children:"Member Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"list-members",children:"List Members"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations/{slug}/members\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns all members of the organization."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "members": [\n      {\n        "user_id": 1,\n        "email": "owner@acme.com",\n        "name": "John Owner",\n        "role": "owner",\n        "site_count": 3,\n        "created_at": "2024-01-15T10:00:00Z"\n      },\n      {\n        "user_id": 2,\n        "email": "analyst@acme.com",\n        "name": "Jane Analyst",\n        "role": "member",\n        "site_count": 1,\n        "created_at": "2024-03-20T14:00:00Z"\n      }\n    ],\n    "total": 2\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"site_count"})}),(0,r.jsx)(n.td,{children:"Number of sites this member has access to"})]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"add-member",children:"Add Member"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /organizations/{slug}/members\n"})}),"\n",(0,r.jsx)(n.p,{children:"Adds an existing user as a member of the organization."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user_id": 5,\n  "role": "member"\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_id"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"User ID to add"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"role"})}),(0,r.jsx)(n.td,{children:"enum"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"owner"}),", ",(0,r.jsx)(n.code,{children:"admin"}),", or ",(0,r.jsx)(n.code,{children:"member"})," (default: ",(0,r.jsx)(n.code,{children:"member"}),")"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Member added successfully"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," To invite users who don't have an account yet, use the ",(0,r.jsx)(n.a,{href:"#invitation-endpoints",children:"Invitations API"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"update-member-role",children:"Update Member Role"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"PATCH /organizations/{slug}/members/{user_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Changes a member's role in the organization."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "role": "admin"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Role updated successfully"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Restrictions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Admins cannot change owner roles"}),"\n",(0,r.jsx)(n.li,{children:"Cannot demote the last owner"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"remove-member",children:"Remove Member"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /organizations/{slug}/members/{user_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Removes a member from the organization."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Member removed successfully"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Restrictions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cannot remove the last owner"}),"\n",(0,r.jsx)(n.li,{children:"Admins cannot remove owners"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"organization-sites",children:"Organization Sites"}),"\n",(0,r.jsx)(n.h3,{id:"list-organization-sites",children:"List Organization Sites"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations/{slug}/sites\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns all sites belonging to the organization."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "sites": [\n      {\n        "id": "acme-main",\n        "name": "ACME Main Website",\n        "is_active": true,\n        "timezone": "Europe/Madrid",\n        "currency": "EUR",\n        "created_at": "2024-01-15T10:00:00Z"\n      },\n      {\n        "id": "acme-shop",\n        "name": "ACME E-commerce",\n        "is_active": true,\n        "timezone": "Europe/Madrid",\n        "currency": "EUR",\n        "created_at": "2024-02-01T09:00:00Z"\n      }\n    ],\n    "total": 2\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"member-site-access",children:"Member Site Access"}),"\n",(0,r.jsxs)(n.p,{children:["Control which sites a member can access. Only applies to members with the ",(0,r.jsx)(n.code,{children:"member"})," role (owners and admins have access to all sites automatically)."]}),"\n",(0,r.jsx)(n.h3,{id:"list-members-sites",children:"List Member's Sites"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations/{slug}/members/{user_id}/sites\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns sites assigned to a specific member."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "sites": [\n      {\n        "id": "acme-main",\n        "name": "ACME Main Website",\n        "has_access": true\n      },\n      {\n        "id": "acme-shop",\n        "name": "ACME E-commerce",\n        "has_access": false\n      }\n    ],\n    "total": 2\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"add-site-access",children:"Add Site Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /organizations/{slug}/members/{user_id}/sites\n"})}),"\n",(0,r.jsx)(n.p,{children:"Grants a member access to one or more sites."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "site_ids": ["acme-main", "acme-shop"]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "added": ["acme-main", "acme-shop"],\n    "already_assigned": [],\n    "invalid": []\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"added"})}),(0,r.jsx)(n.td,{children:"Sites successfully granted access"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"already_assigned"})}),(0,r.jsx)(n.td,{children:"Sites the member already had access to"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"invalid"})}),(0,r.jsx)(n.td,{children:"Site IDs that don't exist or don't belong to the org"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"remove-site-access",children:"Remove Site Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /organizations/{slug}/members/{user_id}/sites/{site_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Removes a member's access to a specific site."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Site access removed successfully"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"invitation-endpoints",children:"Invitation Endpoints"}),"\n",(0,r.jsx)(n.p,{children:"Invitations allow you to add team members who don't have a SealMetrics account yet."}),"\n",(0,r.jsx)(n.h3,{id:"list-invitations",children:"List Invitations"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /organizations/{slug}/invitations\n"})}),"\n",(0,r.jsx)(n.p,{children:"Returns pending invitations for the organization."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "invitations": [\n      {\n        "id": 1,\n        "org_id": "550e8400-e29b-41d4-a716-446655440000",\n        "email": "newuser@example.com",\n        "role": "member",\n        "invited_by_name": "John Owner",\n        "is_active": true,\n        "expires_at": "2025-01-17T14:30:00Z",\n        "accepted_at": null,\n        "created_at": "2025-01-10T14:30:00Z"\n      }\n    ],\n    "total": 1\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"send-invitation",children:"Send Invitation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /organizations/{slug}/invitations\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sends an email invitation to join the organization."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "email": "newuser@example.com",\n  "role": "member",\n  "site_ids": ["acme-main"]\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"email"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Email address to invite"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"role"})}),(0,r.jsx)(n.td,{children:"enum"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"owner"}),", ",(0,r.jsx)(n.code,{children:"admin"}),", or ",(0,r.jsx)(n.code,{children:"member"})," (default: ",(0,r.jsx)(n.code,{children:"member"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"site_ids"})}),(0,r.jsx)(n.td,{children:"string[]"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:["Pre-assign sites for ",(0,r.jsx)(n.code,{children:"member"})," role (ignored for owner/admin)"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "invitation_id": 1,\n    "invitation_link": "https://my.sealmetrics.com/accept-invitation?token=abc123...",\n    "expires_at": "2025-01-17T14:30:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Invitation expires in 7 days"}),"\n",(0,r.jsx)(n.li,{children:"If user already has an account, they can accept while logged in"}),"\n",(0,r.jsx)(n.li,{children:"If user is new, they'll create an account during acceptance"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"resend-invitation",children:"Resend Invitation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /organizations/{slug}/invitations/{invitation_id}/resend\n"})}),"\n",(0,r.jsx)(n.p,{children:"Resends the invitation email with a new token."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Invitation resent"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"revoke-invitation",children:"Revoke Invitation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /organizations/{slug}/invitations/{invitation_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Cancels a pending invitation."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required role:"})," ",(0,r.jsx)(n.code,{children:"admin"})," or ",(0,r.jsx)(n.code,{children:"owner"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Invitation revoked"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"accept-invitation-endpoints",children:"Accept Invitation Endpoints"}),"\n",(0,r.jsx)(n.p,{children:"These endpoints are called when a user clicks the invitation link."}),"\n",(0,r.jsx)(n.h3,{id:"accept-invitation-new-user",children:"Accept Invitation (New User)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /invitations/accept\n"})}),"\n",(0,r.jsx)(n.p,{children:"Creates a new account and joins the organization."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "token": "abc123...",\n  "name": "Jane Doe",\n  "password": "securepassword123"\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"token"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Invitation token from the link"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"User's full name (1-255 chars)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"password"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Password (min 8 chars)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Invitation accepted",\n    "organization": {\n      "name": "ACME Corporation",\n      "slug": "acme-corporation"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"accept-invitation-existing-user",children:"Accept Invitation (Existing User)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /invitations/accept-existing\n"})}),"\n",(0,r.jsx)(n.p,{children:"Joins the organization with an existing logged-in account."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Requires:"})," Authentication (JWT or API Key)"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "token": "abc123..."\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "message": "Invitation accepted",\n    "organization": {\n      "name": "ACME Corporation",\n      "slug": "acme-corporation"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"HTTP Code"}),(0,r.jsx)(n.th,{children:"Error Code"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_owner"})}),(0,r.jsx)(n.td,{children:"Cannot remove or demote the last owner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"confirmation_failed"})}),(0,r.jsx)(n.td,{children:"Organization name doesn't match for deletion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"403"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"org_creation_not_allowed"})}),(0,r.jsx)(n.td,{children:"User cannot create more organizations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"403"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"insufficient_permissions"})}),(0,r.jsx)(n.td,{children:"User's role doesn't allow this action"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"org_not_found"})}),(0,r.jsx)(n.td,{children:"Organization doesn't exist or user has no access"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"member_not_found"})}),(0,r.jsx)(n.td,{children:"User is not a member of this organization"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"invitation_not_found"})}),(0,r.jsx)(n.td,{children:"Invitation doesn't exist or is expired"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"409"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"member_already_exists"})}),(0,r.jsx)(n.td,{children:"User is already a member of this organization"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"409"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_already_member"})}),(0,r.jsx)(n.td,{children:"Invited user is already a member"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nAPI_KEY = "sm_your_api_key"\nBASE_URL = "https://api.sealmetrics.com/api/v1"\nheaders = {"X-API-Key": API_KEY}\n\n# List my organizations\norgs = requests.get(\n    f"{BASE_URL}/organizations",\n    headers=headers\n).json()["data"]["organizations"]\n\nprint(f"My organizations: {[o[\'name\'] for o in orgs]}")\n\n# Create organization\nnew_org = requests.post(\n    f"{BASE_URL}/organizations",\n    headers=headers,\n    json={"name": "My New Team"}\n).json()["data"]\n\nprint(f"Created org: {new_org[\'slug\']}")\n\n# Invite a team member\ninvitation = requests.post(\n    f"{BASE_URL}/organizations/{new_org[\'slug\']}/invitations",\n    headers=headers,\n    json={\n        "email": "colleague@example.com",\n        "role": "member",\n        "site_ids": ["my-website"]\n    }\n).json()["data"]\n\nprint(f"Invitation link: {invitation[\'invitation_link\']}")\n\n# List members\nmembers = requests.get(\n    f"{BASE_URL}/organizations/{new_org[\'slug\']}/members",\n    headers=headers\n).json()["data"]["members"]\n\nfor member in members:\n    print(f"  {member[\'name\']} ({member[\'role\']})")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const API_KEY = 'sm_your_api_key';\nconst BASE_URL = 'https://api.sealmetrics.com/api/v1';\n\nconst headers = {\n  'X-API-Key': API_KEY,\n  'Content-Type': 'application/json'\n};\n\n// List my organizations\nconst orgsResponse = await fetch(`${BASE_URL}/organizations`, { headers });\nconst { data: { organizations } } = await orgsResponse.json();\nconsole.log('My orgs:', organizations.map(o => o.name));\n\n// Create organization\nconst createResponse = await fetch(`${BASE_URL}/organizations`, {\n  method: 'POST',\n  headers,\n  body: JSON.stringify({ name: 'My New Team' })\n});\nconst { data: newOrg } = await createResponse.json();\nconsole.log(`Created: ${newOrg.slug}`);\n\n// Invite team member with pre-assigned sites\nconst inviteResponse = await fetch(\n  `${BASE_URL}/organizations/${newOrg.slug}/invitations`,\n  {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({\n      email: 'colleague@example.com',\n      role: 'member',\n      site_ids: ['my-website', 'my-blog']\n    })\n  }\n);\nconst { data: invitation } = await inviteResponse.json();\nconsole.log(`Invitation sent! Link: ${invitation.invitation_link}`);\n\n// Grant site access to existing member\nawait fetch(\n  `${BASE_URL}/organizations/${newOrg.slug}/members/123/sites`,\n  {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({ site_ids: ['new-site'] })\n  }\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"php",children:"PHP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\n$apiKey = 'sm_your_api_key';\n$baseUrl = 'https://api.sealmetrics.com/api/v1';\n\n$headers = [\n    'X-API-Key: ' . $apiKey,\n    'Content-Type: application/json'\n];\n\n// Create organization\n$ch = curl_init(\"$baseUrl/organizations\");\ncurl_setopt($ch, CURLOPT_POST, true);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([\n    'name' => 'My Company'\n]));\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$response = json_decode(curl_exec($ch), true);\n$org = $response['data'];\ncurl_close($ch);\n\necho \"Created organization: \" . $org['slug'] . \"\\n\";\n\n// Invite member\n$ch = curl_init(\"$baseUrl/organizations/{$org['slug']}/invitations\");\ncurl_setopt($ch, CURLOPT_POST, true);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\ncurl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([\n    'email' => 'team@example.com',\n    'role' => 'admin'\n]));\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$response = json_decode(curl_exec($ch), true);\ncurl_close($ch);\n\necho \"Invitation link: \" . $response['data']['invitation_link'] . \"\\n\";\n?>\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"team-structure",children:"Team Structure"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep one owner per organization"})," - Designate a primary account owner"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use admin role sparingly"})," - Admins can manage all members and sites"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Assign specific sites to members"})," - Use ",(0,r.jsx)(n.code,{children:"site_ids"})," when inviting members"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"invitation-workflow",children:"Invitation Workflow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Always pre-assign sites when inviting with ",(0,r.jsx)(n.code,{children:"member"})," role"]}),"\n",(0,r.jsx)(n.li,{children:"Invitations expire in 7 days - resend if needed"}),"\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.code,{children:"can_create_org"}),' before showing "Create Organization" UI']}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Revoke access immediately when team members leave"}),"\n",(0,r.jsx)(n.li,{children:"Periodically audit member list and site access"}),"\n",(0,r.jsxs)(n.li,{children:["Use the audit logs to track changes (see ",(0,r.jsx)(n.a,{href:"/api/audit",children:"Audit API"}),")"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);