"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9410],{28453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>t});var i=n(96540);const s={},c=i.createContext(s);function d(e){const r=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(c.Provider,{value:r},e.children)}},50128:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"implementation/tracker/api-reference","title":"Tracker API Reference","description":"Complete API reference for the SealMetrics JavaScript tracker. Includes all methods, parameters, and payload specifications.","source":"@site/docs/implementation/tracker/api-reference.mdx","sourceDirName":"implementation/tracker","slug":"/implementation/tracker/api-reference","permalink":"/implementation/tracker/api-reference","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"api","permalink":"/tags/api"},{"inline":true,"label":"reference","permalink":"/tags/reference"},{"inline":true,"label":"tracker","permalink":"/tags/tracker"},{"inline":true,"label":"javascript","permalink":"/tags/javascript"}],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Tracker API Reference","description":"Complete API reference for the SealMetrics JavaScript tracker. Includes all methods, parameters, and payload specifications.","tags":["api","reference","tracker","javascript"],"keywords":["tracker api","javascript api","sealmetrics api","tracking methods","analytics api"]},"sidebar":"tutorialSidebar","previous":{"title":"SPA Support","permalink":"/implementation/tracker/spa-support"},"next":{"title":"Migration from v1","permalink":"/implementation/tracker/migration-from-v1"}}');var s=n(74848),c=n(28453);const d={sidebar_position:6,title:"Tracker API Reference",description:"Complete API reference for the SealMetrics JavaScript tracker. Includes all methods, parameters, and payload specifications.",tags:["api","reference","tracker","javascript"],keywords:["tracker api","javascript api","sealmetrics api","tracking methods","analytics api"]},t="Tracker API Reference",l={},a=[{value:"Global Variables",id:"global-variables",level:2},{value:"Methods",id:"methods",level:2},{value:"sealmetrics()",id:"sealmetrics",level:3},{value:"sealmetrics.conv()",id:"sealmetricsconv",level:3},{value:"sealmetrics.micro()",id:"sealmetricsmicro",level:3},{value:"Properties",id:"properties",level:2},{value:"Data Types",id:"data-types",level:3},{value:"Common Properties",id:"common-properties",level:3},{value:"Property Limits",id:"property-limits",level:3},{value:"Content Grouping",id:"content-grouping",level:2},{value:"Setting via URL Parameter",id:"setting-via-url-parameter",level:3},{value:"Setting via JavaScript",id:"setting-via-javascript",level:3},{value:"Common Groups",id:"common-groups",level:3},{value:"Payload Specification",id:"payload-specification",level:2},{value:"Pageview Payload",id:"pageview-payload",level:3},{value:"Conversion Payload",id:"conversion-payload",level:3},{value:"Microconversion Payload",id:"microconversion-payload",level:3},{value:"Session Identification",id:"session-identification",level:2},{value:"Fingerprint Components",id:"fingerprint-components",level:3},{value:"Automatic Behavior",id:"automatic-behavior",level:2},{value:"Automatic Pageview",id:"automatic-pageview",level:3},{value:"SPA Navigation Detection",id:"spa-navigation-detection",level:3},{value:"Data Transmission",id:"data-transmission",level:3},{value:"TypeScript Declarations",id:"typescript-declarations",level:2},{value:"Technical Specifications",id:"technical-specifications",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"tracker-api-reference",children:"Tracker API Reference"})}),"\n",(0,s.jsx)(r.p,{children:"Complete reference for the SealMetrics JavaScript tracker API."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"global-variables",children:"Global Variables"}),"\n",(0,s.jsx)(r.p,{children:"The tracker exposes three identical global variables:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Variable"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"sealmetrics"})}),(0,s.jsx)(r.td,{children:"Recommended (unique, no conflicts)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"sm"})}),(0,s.jsx)(r.td,{children:"Short form"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"_sm"})}),(0,s.jsx)(r.td,{children:"Backup if others conflict"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:"All three work identically:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"sealmetrics.conv('purchase', 99.99);\nsm.conv('purchase', 99.99);\n_sm.conv('purchase', 99.99);\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(r.h3,{id:"sealmetrics",children:"sealmetrics()"}),"\n",(0,s.jsx)(r.p,{children:"Track a pageview. Called automatically on page load and SPA navigation."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"sealmetrics();\nsealmetrics(options);\n"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Parameter"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"options"})}),(0,s.jsx)(r.td,{children:"object"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Configuration options"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"options.group"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Content grouping for this page"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// Manual pageview (rarely needed)\nsealmetrics();\n\n// Pageview with content grouping\nsealmetrics({ group: 'blog' });\nsealmetrics({ group: 'product' });\nsealmetrics({ group: 'checkout' });\n"})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"When to call manually:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Rarely needed \u2014 pageviews are automatic"}),"\n",(0,s.jsx)(r.li,{children:"Use when you need to override the content group"}),"\n",(0,s.jsx)(r.li,{children:"Use for hash-based routing where automatic detection doesn't work"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"sealmetricsconv",children:"sealmetrics.conv()"}),"\n",(0,s.jsx)(r.p,{children:"Track a conversion (goal completion with monetary value)."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"sealmetrics.conv(type, amount);\nsealmetrics.conv(type, amount, properties);\n"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Parameter"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"type"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsxs)(r.td,{children:["Conversion type (e.g., ",(0,s.jsx)(r.code,{children:"'purchase'"}),", ",(0,s.jsx)(r.code,{children:"'lead'"}),", ",(0,s.jsx)(r.code,{children:"'signup'"}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"amount"})}),(0,s.jsx)(r.td,{children:"number"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsxs)(r.td,{children:["Monetary value. Use ",(0,s.jsx)(r.code,{children:"0"})," for non-monetary conversions"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"properties"})}),(0,s.jsx)(r.td,{children:"object"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Custom key-value data"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// Simple purchase\nsealmetrics.conv('purchase', 99.99);\n\n// Purchase with properties\nsealmetrics.conv('purchase', 149.99, {\n  order_id: 'ORD-12345',\n  currency: 'EUR',\n  payment_method: 'credit_card'\n});\n\n// Lead (no monetary value)\nsealmetrics.conv('lead', 0, {\n  form_name: 'contact',\n  source: 'homepage'\n});\n\n// Subscription\nsealmetrics.conv('subscription', 49, {\n  plan: 'pro_monthly',\n  currency: 'USD'\n});\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"sealmetricsmicro",children:"sealmetrics.micro()"}),"\n",(0,s.jsx)(r.p,{children:"Track a microconversion (user interaction or funnel step)."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"sealmetrics.micro(type);\nsealmetrics.micro(type, properties);\n"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Parameter"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"type"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsxs)(r.td,{children:["Event type (e.g., ",(0,s.jsx)(r.code,{children:"'add_to_cart'"}),", ",(0,s.jsx)(r.code,{children:"'video_play'"}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"properties"})}),(0,s.jsx)(r.td,{children:"object"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Custom key-value data"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// Simple microconversion\nsealmetrics.micro('add_to_cart');\n\n// With properties\nsealmetrics.micro('add_to_cart', {\n  product_id: 'SKU-123',\n  product_name: 'Blue Shoes',\n  price: '89.99'\n});\n\n// Video engagement\nsealmetrics.micro('video_play', {\n  video_id: 'demo-2025',\n  video_title: 'Product Tour'\n});\n\n// Scroll depth\nsealmetrics.micro('scroll_50');\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(r.p,{children:"Properties are key-value pairs attached to conversions and microconversions."}),"\n",(0,s.jsx)(r.h3,{id:"data-types",children:"Data Types"}),"\n",(0,s.jsx)(r.p,{children:"All property values are transmitted as strings. Numbers and booleans are automatically converted:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// Both are equivalent\nsealmetrics.conv('purchase', 99, { quantity: 3 });\nsealmetrics.conv('purchase', 99, { quantity: '3' });\n"})}),"\n",(0,s.jsx)(r.h3,{id:"common-properties",children:"Common Properties"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Example"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"order_id"})}),(0,s.jsx)(r.td,{children:"Unique order identifier"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'ORD-12345'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"currency"})}),(0,s.jsx)(r.td,{children:"ISO 4217 currency code"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"'EUR'"}),", ",(0,s.jsx)(r.code,{children:"'USD'"})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"product_id"})}),(0,s.jsx)(r.td,{children:"Product SKU or ID"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'SKU-123'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"product_name"})}),(0,s.jsx)(r.td,{children:"Product name"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'Blue Shoes'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"category"})}),(0,s.jsx)(r.td,{children:"Product category"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'footwear'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"price"})}),(0,s.jsx)(r.td,{children:"Item price"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'89.99'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"quantity"})}),(0,s.jsx)(r.td,{children:"Number of items"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'2'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"payment_method"})}),(0,s.jsx)(r.td,{children:"Payment type"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'credit_card'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"coupon"})}),(0,s.jsx)(r.td,{children:"Discount code"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'SAVE10'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"plan"})}),(0,s.jsx)(r.td,{children:"Subscription plan"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'pro'"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"billing_cycle"})}),(0,s.jsx)(r.td,{children:"Billing frequency"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"'monthly'"})})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"property-limits",children:"Property Limits"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Maximum properties per event: No hard limit, but keep reasonable"}),"\n",(0,s.jsx)(r.li,{children:"Property name max length: 100 characters"}),"\n",(0,s.jsx)(r.li,{children:"Property value max length: 500 characters"}),"\n",(0,s.jsx)(r.li,{children:"Total payload max: 64KB"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"content-grouping",children:"Content Grouping"}),"\n",(0,s.jsx)(r.p,{children:"Content grouping categorizes pages into sections for analysis."}),"\n",(0,s.jsx)(r.h3,{id:"setting-via-url-parameter",children:"Setting via URL Parameter"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<script src="https://t.sealmetrics.com/t.js?id=YOUR_ID&group=blog" defer><\/script>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"setting-via-javascript",children:"Setting via JavaScript"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// Override default grouping\nsealmetrics({ group: 'product' });\n"})}),"\n",(0,s.jsx)(r.h3,{id:"common-groups",children:"Common Groups"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Group"}),(0,s.jsx)(r.th,{children:"Use Case"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"blog"})}),(0,s.jsx)(r.td,{children:"Blog posts, articles"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"product"})}),(0,s.jsx)(r.td,{children:"Product detail pages"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"category"})}),(0,s.jsx)(r.td,{children:"Category/listing pages"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"cart"})}),(0,s.jsx)(r.td,{children:"Shopping cart"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"checkout"})}),(0,s.jsx)(r.td,{children:"Checkout flow"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"landing"})}),(0,s.jsx)(r.td,{children:"Landing pages"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"support"})}),(0,s.jsx)(r.td,{children:"Help, documentation"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"account"})}),(0,s.jsx)(r.td,{children:"User account pages"})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"payload-specification",children:"Payload Specification"}),"\n",(0,s.jsx)(r.h3,{id:"pageview-payload",children:"Pageview Payload"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\n  "a": "YOUR_ACCOUNT_ID",\n  "s": "1abc123def456",\n  "t": "hmac_token",\n  "u": "https://example.com/page",\n  "r": "https://google.com/search",\n  "p": {\n    "utm_source": "google",\n    "utm_medium": "cpc"\n  },\n  "z": "Europe/Madrid",\n  "c": 1703001234567,\n  "g": "blog"\n}\n'})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Field"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"a"})}),(0,s.jsx)(r.td,{children:"Account ID"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"s"})}),(0,s.jsx)(r.td,{children:"Session ID (fingerprint hash)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"t"})}),(0,s.jsx)(r.td,{children:"HMAC anti-spam token"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"u"})}),(0,s.jsx)(r.td,{children:"Current URL"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"r"})}),(0,s.jsx)(r.td,{children:"Referrer URL"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"p"})}),(0,s.jsx)(r.td,{children:"URL parameters (UTM, etc.)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"z"})}),(0,s.jsx)(r.td,{children:"IANA timezone"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"c"})}),(0,s.jsx)(r.td,{children:"Timestamp (milliseconds)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"g"})}),(0,s.jsx)(r.td,{children:"Content group (optional)"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"conversion-payload",children:"Conversion Payload"}),"\n",(0,s.jsx)(r.p,{children:"Includes all pageview fields plus:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\n  "e": "purchase",\n  "v": 149.99,\n  "x": {\n    "order_id": "ORD-12345",\n    "currency": "EUR"\n  }\n}\n'})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Field"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"e"})}),(0,s.jsx)(r.td,{children:"Event type"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"v"})}),(0,s.jsx)(r.td,{children:"Monetary value"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"x"})}),(0,s.jsx)(r.td,{children:"Custom properties"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"microconversion-payload",children:"Microconversion Payload"}),"\n",(0,s.jsx)(r.p,{children:"Includes all pageview fields plus:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\n  "e": "add_to_cart",\n  "m": true,\n  "x": {\n    "product_id": "SKU-123"\n  }\n}\n'})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Field"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"e"})}),(0,s.jsx)(r.td,{children:"Event type"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"m"})}),(0,s.jsxs)(r.td,{children:["Microconversion flag (",(0,s.jsx)(r.code,{children:"true"}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"x"})}),(0,s.jsx)(r.td,{children:"Custom properties"})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"session-identification",children:"Session Identification"}),"\n",(0,s.jsx)(r.p,{children:"Sessions are identified using a browser fingerprint hash. No cookies or storage are used."}),"\n",(0,s.jsx)(r.h3,{id:"fingerprint-components",children:"Fingerprint Components"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Component"}),(0,s.jsx)(r.th,{children:"Example"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Hostname (root domain)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"example.com"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"User Agent"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Mozilla/5.0..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Protocol (HTTPS)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"true"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Timezone"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Europe/Madrid"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Is Mobile"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"false"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Browser + Version"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"chrome94.0"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"OS + Version"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"macos10.15"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Language"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"en-US"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Screen Size"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"1920x1080"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Hardware Concurrency"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"8"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Device Memory"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"8"})})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["The fingerprint is hashed using Java's ",(0,s.jsx)(r.code,{children:"String.hashCode()"})," algorithm for consistency with legacy systems."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"automatic-behavior",children:"Automatic Behavior"}),"\n",(0,s.jsx)(r.h3,{id:"automatic-pageview",children:"Automatic Pageview"}),"\n",(0,s.jsxs)(r.p,{children:["A pageview is tracked automatically when the script loads. You don't need to call ",(0,s.jsx)(r.code,{children:"sealmetrics()"})," manually on page load."]}),"\n",(0,s.jsx)(r.h3,{id:"spa-navigation-detection",children:"SPA Navigation Detection"}),"\n",(0,s.jsx)(r.p,{children:"The tracker automatically detects Single Page Application navigation by intercepting:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"history.pushState()"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"history.replaceState()"})}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"popstate"})," event (browser back/forward)"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Each URL change triggers a new pageview with the previous URL as the referrer."}),"\n",(0,s.jsx)(r.h3,{id:"data-transmission",children:"Data Transmission"}),"\n",(0,s.jsxs)(r.p,{children:["Events are sent using ",(0,s.jsx)(r.code,{children:"navigator.sendBeacon()"})," with a fallback to ",(0,s.jsx)(r.code,{children:"fetch()"}),":"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"sendBeacon"})," (preferred): Works even when closing the tab"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"fetch with keepalive"}),": Fallback if sendBeacon fails"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Content-Type is ",(0,s.jsx)(r.code,{children:"text/plain"})," to avoid CORS preflight requests."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"typescript-declarations",children:"TypeScript Declarations"}),"\n",(0,s.jsx)(r.p,{children:"For TypeScript projects, add these declarations:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"// types/sealmetrics.d.ts\ninterface SealmetricsOptions {\n  group?: string;\n}\n\ninterface SealmetricsFunction {\n  (options?: SealmetricsOptions): void;\n  conv(type: string, amount: number, properties?: Record<string, string>): void;\n  micro(type: string, properties?: Record<string, string>): void;\n}\n\ndeclare global {\n  const sealmetrics: SealmetricsFunction | undefined;\n  const sm: SealmetricsFunction | undefined;\n  const _sm: SealmetricsFunction | undefined;\n}\n\nexport {};\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"technical-specifications",children:"Technical Specifications"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Specification"}),(0,s.jsx)(r.th,{children:"Value"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Size (minified)"}),(0,s.jsx)(r.td,{children:"2,367 bytes"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Size (gzipped)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"1,313 bytes"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Dependencies"}),(0,s.jsx)(r.td,{children:"None (vanilla JavaScript)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Browser Support"}),(0,s.jsx)(r.td,{children:"Chrome 60+, Firefox 55+, Safari 11.1+, Edge 79+"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"ES Version"}),(0,s.jsx)(r.td,{children:"ES5 compatible"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Cookies"}),(0,s.jsx)(r.td,{children:"None"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"localStorage"}),(0,s.jsx)(r.td,{children:"None"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"sessionStorage"}),(0,s.jsx)(r.td,{children:"None"})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/implementation/tracker/installation",children:"Installation"})," - Setup guide"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/implementation/tracker/conversions",children:"Conversions"})," - Detailed conversion tracking"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/implementation/tracker/microconversions",children:"Microconversions"})," - Event tracking"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/implementation/tracker/spa-support",children:"SPA Support"})," - Framework integrations"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);