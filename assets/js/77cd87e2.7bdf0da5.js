"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7614],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(96540);const r={},d=t.createContext(r);function i(e){const n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(d.Provider,{value:n},e.children)}},53777:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>x,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api/exports","title":"Exports","description":"Create and download bulk exports of analytics data in CSV or JSON format.","source":"@site/docs/api/exports.mdx","sourceDirName":"api","slug":"/api/exports","permalink":"/api/exports","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Exports"},"sidebar":"tutorialSidebar","previous":{"title":"Auth Advanced","permalink":"/api/auth-advanced"},"next":{"title":"Segments","permalink":"/api/segments"}}');var r=s(74848),d=s(28453);const i={sidebar_position:11,title:"Exports"},o="Data Exports API",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Export Types",id:"export-types",level:2},{value:"Export Formats",id:"export-formats",level:2},{value:"Create Export",id:"create-export",level:2},{value:"Filter Options",id:"filter-options",level:3},{value:"Export Status Values",id:"export-status-values",level:3},{value:"Estimate Export Size",id:"estimate-export-size",level:2},{value:"List Exports",id:"list-exports",level:2},{value:"Get Export Status",id:"get-export-status",level:2},{value:"Download Export",id:"download-export",level:2},{value:"Stream Export (Small Datasets)",id:"stream-export-small-datasets",level:2},{value:"Cancel/Delete Export",id:"canceldelete-export",level:2},{value:"Small vs Large Exports",id:"small-vs-large-exports",level:2},{value:"Download Link Expiration",id:"download-link-expiration",level:2},{value:"Rate Limits",id:"rate-limits",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Python - Export and Download",id:"python---export-and-download",level:3},{value:"JavaScript - Stream Small Export",id:"javascript---stream-small-export",level:3},{value:"Check Estimate Before Export",id:"check-estimate-before-export",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"data-exports-api",children:"Data Exports API"})}),"\n",(0,r.jsx)(n.p,{children:"Create and download bulk exports of analytics data in CSV or JSON format."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The Exports API allows you to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Export analytics data for external analysis"}),"\n",(0,r.jsx)(n.li,{children:"Choose between CSV and JSON formats"}),"\n",(0,r.jsx)(n.li,{children:"Apply filters to export specific segments"}),"\n",(0,r.jsx)(n.li,{children:"Handle large exports asynchronously"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Base path:"})," ",(0,r.jsx)(n.code,{children:"/exports"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"export-types",children:"Export Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pages"})}),(0,r.jsx)(n.td,{children:"Page-level metrics (path, views, entrances, conversions)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources"})}),(0,r.jsx)(n.td,{children:"Traffic by UTM source"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mediums"})}),(0,r.jsx)(n.td,{children:"Traffic by UTM medium"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"campaigns"})}),(0,r.jsx)(n.td,{children:"Traffic by UTM campaign"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"terms"})}),(0,r.jsx)(n.td,{children:"Traffic by UTM term (keywords)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"countries"})}),(0,r.jsx)(n.td,{children:"Traffic by country"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"devices"})}),(0,r.jsx)(n.td,{children:"Traffic by device type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"browsers"})}),(0,r.jsx)(n.td,{children:"Traffic by browser"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"os"})}),(0,r.jsx)(n.td,{children:"Traffic by operating system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"conversions"})}),(0,r.jsx)(n.td,{children:"Conversion events"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"microconversions"})}),(0,r.jsx)(n.td,{children:"Microconversion events"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"time_series"})}),(0,r.jsx)(n.td,{children:"Daily time series data"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"landing_pages"})}),(0,r.jsx)(n.td,{children:"Landing page metrics"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"export-formats",children:"Export Formats"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Format"}),(0,r.jsx)(n.th,{children:"Content-Type"}),(0,r.jsx)(n.th,{children:"Best For"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"csv"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"text/csv"})}),(0,r.jsx)(n.td,{children:"Spreadsheets, BI tools"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"json"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"application/json"})}),(0,r.jsx)(n.td,{children:"Programmatic analysis"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"create-export",children:"Create Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /exports?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a new export job."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "export_type": "sources",\n  "format": "csv",\n  "date_from": "2025-01-01",\n  "date_to": "2025-01-10",\n  "filters": {\n    "country": "ES",\n    "utm_medium": "cpc"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"export_type"})}),(0,r.jsx)(n.td,{children:"enum"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Type of data to export"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"format"})}),(0,r.jsx)(n.td,{children:"enum"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"csv"})," (default) or ",(0,r.jsx)(n.code,{children:"json"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date_from"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Start date (YYYY-MM-DD)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date_to"})}),(0,r.jsx)(n.td,{children:"date"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"End date (YYYY-MM-DD)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Filter conditions"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"filter-options",children:"Filter Options"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "filters": {\n    "utm_source": "google",\n    "utm_medium": "cpc",\n    "utm_campaign": "spring_sale",\n    "utm_term": "running shoes",\n    "utm_content": "banner_a",\n    "country": "ES",\n    "device_type": "mobile",\n    "browser": "Chrome",\n    "os": "iOS",\n    "content_grouping": "blog",\n    "conversion_type": "purchase",\n    "advanced_filters": "path:contains:/products/"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response (201 Created):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "job": {\n    "id": 1,\n    "job_id": "550e8400-e29b-41d4-a716-446655440000",\n    "account_id": "my-site",\n    "export_type": "sources",\n    "format": "csv",\n    "date_from": "2025-01-01",\n    "date_to": "2025-01-10",\n    "filters": {"country": "ES", "utm_medium": "cpc"},\n    "status": "completed",\n    "estimated_rows": 850,\n    "actual_rows": 847,\n    "file_size_bytes": 45230,\n    "file_size_human": "44.2 KB",\n    "progress_percent": 100,\n    "download_url": "https://api.sealmetrics.com/api/v1/exports/download/abc123...",\n    "download_expires_at": "2025-01-11T14:30:00Z",\n    "started_at": "2025-01-10T14:30:00Z",\n    "completed_at": "2025-01-10T14:30:02Z",\n    "created_at": "2025-01-10T14:30:00Z"\n  },\n  "estimate": {\n    "estimated_rows": 850,\n    "estimated_size_bytes": 45000,\n    "estimated_size_human": "43.9 KB",\n    "recommended_format": "csv",\n    "will_use_background_job": false,\n    "estimated_duration_seconds": 2\n  },\n  "message": "Export completed. Ready for download."\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"export-status-values",children:"Export Status Values"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pending"})}),(0,r.jsx)(n.td,{children:"Job created, waiting to start"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"estimating"})}),(0,r.jsx)(n.td,{children:"Calculating export size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"generating"})}),(0,r.jsx)(n.td,{children:"Export in progress"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"completed"})}),(0,r.jsx)(n.td,{children:"Ready for download"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"failed"})}),(0,r.jsxs)(n.td,{children:["Export failed (check ",(0,r.jsx)(n.code,{children:"error_message"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expired"})}),(0,r.jsx)(n.td,{children:"Download link expired"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"estimate-export-size",children:"Estimate Export Size"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /exports/estimate?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Get size estimate without creating a job."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body:"})," Same as create export."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "estimated_rows": 125000,\n  "estimated_size_bytes": 8500000,\n  "estimated_size_human": "8.1 MB",\n  "recommended_format": "csv",\n  "will_use_background_job": true,\n  "estimated_duration_seconds": 45\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"estimated_rows"})}),(0,r.jsx)(n.td,{children:"Approximate number of rows"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"estimated_size_bytes"})}),(0,r.jsx)(n.td,{children:"Approximate file size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"will_use_background_job"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"true"})," if >10K rows (async processing)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"estimated_duration_seconds"})}),(0,r.jsx)(n.td,{children:"Approximate processing time"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"list-exports",children:"List Exports"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /exports?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"List all exports for an account."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"limit"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"20"})}),(0,r.jsx)(n.td,{children:"Max results (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"offset"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0"})}),(0,r.jsx)(n.td,{children:"Skip N results"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"include_expired"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"Include expired exports"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "exports": [\n    {\n      "id": 5,\n      "job_id": "550e8400-e29b-41d4-a716-446655440000",\n      "export_type": "sources",\n      "format": "csv",\n      "status": "completed",\n      "actual_rows": 847,\n      "file_size_human": "44.2 KB",\n      "download_url": "https://...",\n      "created_at": "2025-01-10T14:30:00Z"\n    }\n  ],\n  "total": 12\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"get-export-status",children:"Get Export Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /exports/{job_id}?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Get status of a specific export job."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response:"})," Same as single job in create response."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"download-export",children:"Download Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /exports/download/{download_token}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Download completed export file."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["This endpoint uses a secure download token and does not require authentication headers. The token is included in the ",(0,r.jsx)(n.code,{children:"download_url"})," field."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response Headers:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Content-Type: text/csv\nContent-Disposition: attachment; filename="sealmetrics_sources_20250101_20250110.csv"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"stream-export-small-datasets",children:"Stream Export (Small Datasets)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /exports/stream?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Stream export directly for small datasets (<10K rows)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body:"})," Same as create export."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response:"})," File stream with appropriate content type."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Error (413 - Too Large):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Export too large for streaming (125,000 rows). Use POST /exports to create a background job."\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"canceldelete-export",children:"Cancel/Delete Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /exports/{job_id}?account_id={account_id}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Cancel a pending export or delete a completed one."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response:"})," 204 No Content"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"small-vs-large-exports",children:"Small vs Large Exports"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Rows"}),(0,r.jsx)(n.th,{children:"Processing"}),(0,r.jsx)(n.th,{children:"Response"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Less than 10,000"}),(0,r.jsx)(n.td,{children:"Synchronous"}),(0,r.jsx)(n.td,{children:"Immediate download URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"10,000 or more"}),(0,r.jsx)(n.td,{children:"Background job"}),(0,r.jsx)(n.td,{children:"Poll status until complete"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"For large exports:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create export (returns ",(0,r.jsx)(n.code,{children:"status: pending"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Poll ",(0,r.jsx)(n.code,{children:"GET /exports/{job_id}"})," until ",(0,r.jsx)(n.code,{children:"status: completed"})]}),"\n",(0,r.jsxs)(n.li,{children:["Download using the ",(0,r.jsx)(n.code,{children:"download_url"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"download-link-expiration",children:"Download Link Expiration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Download links expire after ",(0,r.jsx)(n.strong,{children:"24 hours"})]}),"\n",(0,r.jsx)(n.li,{children:"After expiration, you must create a new export"}),"\n",(0,r.jsxs)(n.li,{children:["Expired exports show ",(0,r.jsx)(n.code,{children:"status: expired"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"rate-limits",children:"Rate Limits"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Plan"}),(0,r.jsx)(n.th,{children:"Concurrent Exports"}),(0,r.jsx)(n.th,{children:"Max Rows/Export"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Free"}),(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"100,000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Pro"}),(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"1,000,000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Enterprise"}),(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"Unlimited"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsx)(n.h3,{id:"python---export-and-download",children:"Python - Export and Download"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\nimport time\n\nAPI_KEY = "str_your_api_key"\nBASE_URL = "https://api.sealmetrics.com/api/v1"\n\ndef export_data(account_id, export_type, date_from, date_to, filters=None):\n    """Create export and return download URL."""\n\n    # Create export\n    response = requests.post(\n        f"{BASE_URL}/exports",\n        headers={"X-API-Key": API_KEY},\n        params={"account_id": account_id},\n        json={\n            "export_type": export_type,\n            "format": "csv",\n            "date_from": date_from,\n            "date_to": date_to,\n            "filters": filters or {}\n        }\n    )\n    response.raise_for_status()\n    data = response.json()\n\n    job = data["job"]\n    job_id = job["job_id"]\n\n    # Poll until complete (for large exports)\n    while job["status"] in ("pending", "estimating", "generating"):\n        time.sleep(2)\n        response = requests.get(\n            f"{BASE_URL}/exports/{job_id}",\n            headers={"X-API-Key": API_KEY},\n            params={"account_id": account_id}\n        )\n        job = response.json()\n\n    if job["status"] == "failed":\n        raise Exception(f"Export failed: {job.get(\'error_message\')}")\n\n    return job["download_url"]\n\n\ndef download_file(download_url, output_path):\n    """Download export file."""\n    response = requests.get(download_url, stream=True)\n    response.raise_for_status()\n\n    with open(output_path, "wb") as f:\n        for chunk in response.iter_content(chunk_size=8192):\n            f.write(chunk)\n\n\n# Usage\nurl = export_data(\n    account_id="my-site",\n    export_type="sources",\n    date_from="2025-01-01",\n    date_to="2025-01-10",\n    filters={"country": "ES"}\n)\ndownload_file(url, "sources_export.csv")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"javascript---stream-small-export",children:"JavaScript - Stream Small Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"async function streamExport(accountId, exportType, dateFrom, dateTo) {\n  const response = await fetch(\n    `${BASE_URL}/exports/stream?account_id=${accountId}`,\n    {\n      method: 'POST',\n      headers: {\n        'X-API-Key': API_KEY,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        export_type: exportType,\n        format: 'csv',\n        date_from: dateFrom,\n        date_to: dateTo\n      })\n    }\n  );\n\n  if (response.status === 413) {\n    throw new Error('Export too large for streaming. Use background job.');\n  }\n\n  const blob = await response.blob();\n  return blob;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"check-estimate-before-export",children:"Check Estimate Before Export"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def estimate_first(account_id, export_config):\n    """Check size before creating export."""\n\n    response = requests.post(\n        f"{BASE_URL}/exports/estimate",\n        headers={"X-API-Key": API_KEY},\n        params={"account_id": account_id},\n        json=export_config\n    )\n    estimate = response.json()\n\n    print(f"Estimated rows: {estimate[\'estimated_rows\']:,}")\n    print(f"Estimated size: {estimate[\'estimated_size_human\']}")\n    print(f"Background job: {estimate[\'will_use_background_job\']}")\n    print(f"Est. duration: {estimate[\'estimated_duration_seconds\']}s")\n\n    if estimate[\'estimated_rows\'] > 500000:\n        confirm = input("Large export. Continue? (y/n): ")\n        if confirm.lower() != \'y\':\n            return None\n\n    # Proceed with export\n    return export_data(account_id, **export_config)\n'})})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);