"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4752],{3502:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"implementation/custom-properties/content-groups","title":"Dynamic Content Grouping","description":"Set content groups dynamically with JavaScript for SPAs and complex sites.","source":"@site/docs/implementation/custom-properties/content-groups.mdx","sourceDirName":"implementation/custom-properties","slug":"/implementation/custom-properties/content-groups","permalink":"/implementation/custom-properties/content-groups","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Dynamic Content Grouping","description":"Set content groups dynamically with JavaScript for SPAs and complex sites."},"sidebar":"tutorialSidebar","previous":{"title":"User Properties","permalink":"/implementation/custom-properties/user-properties"},"next":{"title":"Event Properties","permalink":"/implementation/event-tracking"}}');var i=t(74848),s=t(28453);const a={sidebar_position:4,title:"Dynamic Content Grouping",description:"Set content groups dynamically with JavaScript for SPAs and complex sites."},o="Dynamic Content Grouping",c={},l=[{value:"Two Approaches",id:"two-approaches",level:2},{value:"1. URL Parameter (Recommended)",id:"1-url-parameter-recommended",level:3},{value:"2. JavaScript API (This Page)",id:"2-javascript-api-this-page",level:3},{value:"Dynamic Content Grouping",id:"dynamic-content-grouping-1",level:2},{value:"Basic Implementation",id:"basic-implementation",level:3},{value:"From Data Layer",id:"from-data-layer",level:3},{value:"From Page Elements",id:"from-page-elements",level:3},{value:"Platform-Specific Examples",id:"platform-specific-examples",level:2},{value:"WordPress",id:"wordpress",level:3},{value:"Shopify",id:"shopify",level:3},{value:"React / Next.js (SPA)",id:"react--nextjs-spa",level:3},{value:"Common Group Structures",id:"common-group-structures",level:2},{value:"E-commerce",id:"e-commerce",level:3},{value:"SaaS Marketing Site",id:"saas-marketing-site",level:3},{value:"Media / Publishing",id:"media--publishing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Keep Groups Manageable",id:"keep-groups-manageable",level:3},{value:"Use Consistent Naming",id:"use-consistent-naming",level:3},{value:"Handle Edge Cases",id:"handle-edge-cases",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Content Group Not Appearing",id:"content-group-not-appearing",level:3},{value:"Wrong Group Assigned",id:"wrong-group-assigned",level:3},{value:"URL Parameter vs JavaScript",id:"url-parameter-vs-javascript",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"dynamic-content-grouping",children:"Dynamic Content Grouping"})}),"\n",(0,i.jsx)(n.p,{children:"Content grouping lets you categorize pages into logical groups for easier analysis. This page covers how to set the group dynamically with JavaScript, which is useful for SPAs and sites where the group depends on page content rather than URL structure."}),"\n",(0,i.jsx)(n.h2,{id:"two-approaches",children:"Two Approaches"}),"\n",(0,i.jsx)(n.h3,{id:"1-url-parameter-recommended",children:"1. URL Parameter (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"Set the group directly in the tracker script URL:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="https://t.sealmetrics.com/t.js?id=YOUR_ACCOUNT_ID&group=blog" defer><\/script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Best for:"})," Static sites, CMS templates, server-rendered pages"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/implementation/content-site-structure/content-grouping",children:"See full Content Grouping guide \u2192"})}),"\n",(0,i.jsx)(n.h3,{id:"2-javascript-api-this-page",children:"2. JavaScript API (This Page)"}),"\n",(0,i.jsx)(n.p,{children:"Set the group dynamically when tracking a pageview:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"sealmetrics({ group: 'products' });\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Best for:"})," SPAs, dynamic content, logic that depends on page state"]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,i.jsxs)(n.p,{children:["When using the JavaScript API, the tracker script must have finished loading before you call ",(0,i.jsx)(n.code,{children:"sealmetrics()"}),". Use the ",(0,i.jsx)(n.code,{children:"group"})," URL parameter instead if you want to avoid timing issues with ",(0,i.jsx)(n.code,{children:"defer"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"dynamic-content-grouping-1",children:"Dynamic Content Grouping"}),"\n",(0,i.jsx)(n.h3,{id:"basic-implementation",children:"Basic Implementation"}),"\n",(0,i.jsx)(n.p,{children:"Determine the group based on the current URL path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"function getContentGroup() {\n  const path = window.location.pathname;\n\n  if (path.startsWith('/products/')) return 'products';\n  if (path.startsWith('/blog/')) return 'blog';\n  if (path.startsWith('/help/')) return 'support';\n  if (path === '/') return 'homepage';\n  return 'other';\n}\n\nsealmetrics({ group: getContentGroup() });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"from-data-layer",children:"From Data Layer"}),"\n",(0,i.jsx)(n.p,{children:"Read from an existing data layer (e.g., Google Tag Manager):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// If your site sets:\n// dataLayer.push({ pageType: 'product', category: 'Electronics' });\n\nconst pageType = dataLayer.find(d => d.pageType)?.pageType || 'other';\nsealmetrics({ group: pageType });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"from-page-elements",children:"From Page Elements"}),"\n",(0,i.jsx)(n.p,{children:"Read from HTML data attributes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const group = document.body.dataset.pageType || 'other';\nsealmetrics({ group: group });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"platform-specific-examples",children:"Platform-Specific Examples"}),"\n",(0,i.jsx)(n.h3,{id:"wordpress",children:"WordPress"}),"\n",(0,i.jsx)(n.p,{children:"Use PHP to set the group server-side (recommended approach):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"<?php\nfunction get_content_group() {\n    if (is_front_page()) return 'homepage';\n    if (is_singular('post')) return 'blog';\n    if (is_singular('product')) return 'product';\n    if (is_category()) return 'category';\n    if (is_search()) return 'search';\n    if (is_cart()) return 'cart';\n    if (is_checkout()) return 'checkout';\n    return 'other';\n}\n?>\n\n<script src=\"https://t.sealmetrics.com/t.js?id=YOUR_ACCOUNT_ID&group=<?= get_content_group() ?>\" defer><\/script>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"shopify",children:"Shopify"}),"\n",(0,i.jsx)(n.p,{children:"Use Liquid template logic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-liquid",children:"{% assign group = 'other' %}\n{% if template == 'index' %}{% assign group = 'homepage' %}\n{% elsif template contains 'product' %}{% assign group = 'product' %}\n{% elsif template contains 'collection' %}{% assign group = 'collection' %}\n{% elsif template == 'cart' %}{% assign group = 'cart' %}\n{% elsif template contains 'page' %}{% assign group = 'page' %}\n{% endif %}\n\n<script src=\"https://t.sealmetrics.com/t.js?id=YOUR_ACCOUNT_ID&group={{ group }}\" defer><\/script>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"react--nextjs-spa",children:"React / Next.js (SPA)"}),"\n",(0,i.jsx)(n.p,{children:"For SPAs, use the JavaScript API to set the group on each route change:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { usePathname } from 'next/navigation';\nimport { useEffect } from 'react';\n\nfunction getContentGroup(pathname) {\n  if (pathname === '/') return 'homepage';\n  if (pathname.startsWith('/products')) return 'products';\n  if (pathname.startsWith('/blog')) return 'blog';\n  if (pathname.startsWith('/docs')) return 'docs';\n  return 'other';\n}\n\nexport default function ContentGroupTracker() {\n  const pathname = usePathname();\n\n  useEffect(() => {\n    if (typeof sealmetrics !== 'undefined') {\n      sealmetrics({ group: getContentGroup(pathname) });\n    }\n  }, [pathname]);\n\n  return null;\n}\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["In SPAs, the tracker auto-detects route changes and sends pageviews automatically. Using ",(0,i.jsx)(n.code,{children:"sealmetrics({ group })"})," sends an additional pageview with the group. If you only want to set the group without duplicating the pageview, use the URL parameter method instead."]})}),"\n",(0,i.jsx)(n.h2,{id:"common-group-structures",children:"Common Group Structures"}),"\n",(0,i.jsx)(n.h3,{id:"e-commerce",children:"E-commerce"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const contentGroups = {\n  '/': 'homepage',\n  '/products': 'product-listing',\n  '/products/[id]': 'product-detail',\n  '/cart': 'cart',\n  '/checkout': 'checkout',\n  '/order-confirmation': 'confirmation',\n  '/account': 'account',\n  '/blog': 'blog'\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"saas-marketing-site",children:"SaaS Marketing Site"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const contentGroups = {\n  '/': 'homepage',\n  '/features': 'features',\n  '/pricing': 'pricing',\n  '/customers': 'social-proof',\n  '/blog': 'blog',\n  '/docs': 'docs',\n  '/login': 'login',\n  '/signup': 'signup'\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"media--publishing",children:"Media / Publishing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const contentGroups = {\n  '/': 'homepage',\n  '/[year]/[month]/[slug]': 'article',\n  '/category/[name]': 'category',\n  '/author/[name]': 'author',\n  '/search': 'search',\n  '/subscribe': 'subscription',\n  '/video': 'video'\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"keep-groups-manageable",children:"Keep Groups Manageable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Good: 5-10 main groups\n'products', 'blog', 'support', 'account', 'other'\n\n// Bad: Too granular\n'product-electronics-headphones-sony-wh1000xm5'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"use-consistent-naming",children:"Use Consistent Naming"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Good: lowercase, consistent format\n'products', 'blog-posts', 'support'\n\n// Bad: inconsistent casing and format\n'Products', 'blog', 'SUPPORT'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"handle-edge-cases",children:"Handle Edge Cases"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"function getContentGroup() {\n  const path = window.location.pathname;\n\n  if (path === '/') return 'homepage';\n  if (path.startsWith('/products/')) return 'products';\n\n  // Handle 404s\n  if (document.title.includes('404')) return 'error';\n\n  // Catch-all\n  return 'other';\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"content-group-not-appearing",children:"Content Group Not Appearing"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"?debug=1"})," to the page URL to enable debug mode"]}),"\n",(0,i.jsx)(n.li,{children:"Check the browser console for tracking events"}),"\n",(0,i.jsxs)(n.li,{children:["Verify ",(0,i.jsx)(n.code,{children:"sealmetrics"})," is defined before calling it"]}),"\n",(0,i.jsx)(n.li,{children:"Wait 5 minutes for data processing"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"wrong-group-assigned",children:"Wrong Group Assigned"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check your logic handles all URL patterns"}),"\n",(0,i.jsx)(n.li,{children:"Verify data layer or DOM values are available when the script runs"}),"\n",(0,i.jsx)(n.li,{children:"Check execution timing (script must be loaded first)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"url-parameter-vs-javascript",children:"URL Parameter vs JavaScript"}),"\n",(0,i.jsx)(n.p,{children:"If you set both, the JavaScript call takes priority. Be consistent to avoid confusion - pick one method per page."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);