"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1782],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var r=s(96540);const d={},i=r.createContext(d);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),r.createElement(i.Provider,{value:n},e.children)}},66875:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"api/segments","title":"Segments","description":"Create and manage saved filter configurations that can be reused across all analytics endpoints.","source":"@site/docs/api/segments.mdx","sourceDirName":"api","slug":"/api/segments","permalink":"/api/segments","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"Segments"},"sidebar":"tutorialSidebar","previous":{"title":"Exports","permalink":"/api/exports"},"next":{"title":"Privacy & Consentless Analytics","permalink":"/security-privacy/"}}');var d=s(74848),i=s(28453);const t={sidebar_position:12,title:"Segments"},c="Segments API",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Segment Structure",id:"segment-structure",level:2},{value:"Filter Fields",id:"filter-fields",level:2},{value:"Filter Operators",id:"filter-operators",level:2},{value:"Filter Logic",id:"filter-logic",level:2},{value:"Simple Mode (AND)",id:"simple-mode-and",level:3},{value:"Advanced Mode (OR between groups)",id:"advanced-mode-or-between-groups",level:3},{value:"Exclusion Mode (NOT)",id:"exclusion-mode-not",level:3},{value:"List Segments",id:"list-segments",level:2},{value:"Get Segment",id:"get-segment",level:2},{value:"Create Segment",id:"create-segment",level:2},{value:"Update Segment",id:"update-segment",level:2},{value:"Delete Segment",id:"delete-segment",level:2},{value:"Duplicate Segment",id:"duplicate-segment",level:2},{value:"System Segments",id:"system-segments",level:2},{value:"Using Segments in Stats Endpoints",id:"using-segments-in-stats-endpoints",level:2},{value:"Combining Segment with Explicit Filters",id:"combining-segment-with-explicit-filters",level:3},{value:"Error Codes",id:"error-codes",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Python - Create and Use Segment",id:"python---create-and-use-segment",level:3},{value:"JavaScript - List and Apply Segments",id:"javascript---list-and-apply-segments",level:3},{value:"Create Complex Segment with OR Logic",id:"create-complex-segment-with-or-logic",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"segments-api",children:"Segments API"})}),"\n",(0,d.jsx)(n.p,{children:"Create and manage saved filter configurations that can be reused across all analytics endpoints."}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(n.p,{children:"Segments allow you to:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Save complex filter combinations for reuse"}),"\n",(0,d.jsx)(n.li,{children:"Apply consistent filters across reports"}),"\n",(0,d.jsx)(n.li,{children:"Share segments with your team"}),"\n",(0,d.jsx)(n.li,{children:"Use system segments for common patterns"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Base path:"})," ",(0,d.jsx)(n.code,{children:"/segments"})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"segment-structure",children:"Segment Structure"}),"\n",(0,d.jsx)(n.p,{children:"A segment consists of a name, display name, and filter conditions:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "id": "seg_abc123",\n  "account_id": "my-site",\n  "name": "paid-spain",\n  "display_name": "Paid Traffic Spain",\n  "description": "CPC traffic from Spain",\n  "filters": {\n    "conditions": [\n      {"field": "utm_medium", "operator": "eq", "value": "cpc"},\n      {"field": "country", "operator": "eq", "value": "ES"}\n    ]\n  },\n  "color": "#F59E0B",\n  "is_system": false,\n  "created_by": 123,\n  "created_at": "2025-01-05T10:00:00Z",\n  "updated_at": "2025-01-05T10:00:00Z"\n}\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"filter-fields",children:"Filter Fields"}),"\n",(0,d.jsx)(n.p,{children:"Available fields for segment conditions:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Example Values"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_source"})}),(0,d.jsx)(n.td,{children:"Traffic source"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"google"}),", ",(0,d.jsx)(n.code,{children:"facebook"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_medium"})}),(0,d.jsx)(n.td,{children:"Traffic medium"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"cpc"}),", ",(0,d.jsx)(n.code,{children:"organic"}),", ",(0,d.jsx)(n.code,{children:"email"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_campaign"})}),(0,d.jsx)(n.td,{children:"Campaign name"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"spring_sale"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_term"})}),(0,d.jsx)(n.td,{children:"Search term"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"running shoes"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_content"})}),(0,d.jsx)(n.td,{children:"Ad content"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"banner_a"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"country"})}),(0,d.jsx)(n.td,{children:"Country code"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"ES"}),", ",(0,d.jsx)(n.code,{children:"US"}),", ",(0,d.jsx)(n.code,{children:"FR"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"device_type"})}),(0,d.jsx)(n.td,{children:"Device category"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"desktop"}),", ",(0,d.jsx)(n.code,{children:"mobile"}),", ",(0,d.jsx)(n.code,{children:"tablet"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"browser"})}),(0,d.jsx)(n.td,{children:"Browser name"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Chrome"}),", ",(0,d.jsx)(n.code,{children:"Safari"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"os"})}),(0,d.jsx)(n.td,{children:"Operating system"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Windows"}),", ",(0,d.jsx)(n.code,{children:"iOS"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"path"})}),(0,d.jsx)(n.td,{children:"URL path"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"/products/"}),", ",(0,d.jsx)(n.code,{children:"/blog/"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"content_grouping"})}),(0,d.jsx)(n.td,{children:"Content group"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"blog"}),", ",(0,d.jsx)(n.code,{children:"products"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"referrer"})}),(0,d.jsx)(n.td,{children:"Referrer URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"facebook.com"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"referrer_domain"})}),(0,d.jsx)(n.td,{children:"Referrer domain"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"facebook.com"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"channel"})}),(0,d.jsx)(n.td,{children:"Channel group"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Organic Search"}),", ",(0,d.jsx)(n.code,{children:"Direct"})]})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"filter-operators",children:"Filter Operators"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Operator"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Example"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"eq"})}),(0,d.jsx)(n.td,{children:"Equals"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "country", "operator": "eq", "value": "ES"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"neq"})}),(0,d.jsx)(n.td,{children:"Not equals"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "country", "operator": "neq", "value": "US"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"contains"})}),(0,d.jsx)(n.td,{children:"Contains substring"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "path", "operator": "contains", "value": "/blog/"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"not_contains"})}),(0,d.jsx)(n.td,{children:"Does not contain"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "path", "operator": "not_contains", "value": "/admin/"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"starts_with"})}),(0,d.jsx)(n.td,{children:"Starts with"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "path", "operator": "starts_with", "value": "/products/"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ends_with"})}),(0,d.jsx)(n.td,{children:"Ends with"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "path", "operator": "ends_with", "value": ".html"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"in"})}),(0,d.jsx)(n.td,{children:"In list"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "country", "operator": "in", "value": ["ES", "FR", "DE"]}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"not_in"})}),(0,d.jsx)(n.td,{children:"Not in list"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "device_type", "operator": "not_in", "value": ["tablet"]}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"regex"})}),(0,d.jsx)(n.td,{children:"Regex match"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "path", "operator": "regex", "value": "^/products/[0-9]+"}'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"not_regex"})}),(0,d.jsx)(n.td,{children:"Regex not match"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{"field": "utm_source", "operator": "not_regex", "value": "^spam"}'})})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"filter-logic",children:"Filter Logic"}),"\n",(0,d.jsx)(n.h3,{id:"simple-mode-and",children:"Simple Mode (AND)"}),"\n",(0,d.jsx)(n.p,{children:"All conditions combined with AND:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "filters": {\n    "conditions": [\n      {"field": "country", "operator": "eq", "value": "ES"},\n      {"field": "device_type", "operator": "eq", "value": "mobile"}\n    ]\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Result:"})," ",(0,d.jsx)(n.code,{children:"country = 'ES' AND device_type = 'mobile'"})]}),"\n",(0,d.jsx)(n.h3,{id:"advanced-mode-or-between-groups",children:"Advanced Mode (OR between groups)"}),"\n",(0,d.jsx)(n.p,{children:"Multiple groups combined with OR, conditions within each group with AND:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "filters": {\n    "groups": [\n      {\n        "conditions": [\n          {"field": "country", "operator": "eq", "value": "ES"},\n          {"field": "device_type", "operator": "eq", "value": "mobile"}\n        ]\n      },\n      {\n        "conditions": [\n          {"field": "country", "operator": "eq", "value": "FR"},\n          {"field": "device_type", "operator": "eq", "value": "desktop"}\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Result:"})," ",(0,d.jsx)(n.code,{children:"(country = 'ES' AND device_type = 'mobile') OR (country = 'FR' AND device_type = 'desktop')"})]}),"\n",(0,d.jsx)(n.h3,{id:"exclusion-mode-not",children:"Exclusion Mode (NOT)"}),"\n",(0,d.jsxs)(n.p,{children:["Use ",(0,d.jsx)(n.code,{children:"not_groups"})," to exclude matching records:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "filters": {\n    "conditions": [\n      {"field": "country", "operator": "eq", "value": "ES"}\n    ],\n    "not_groups": [\n      {\n        "conditions": [\n          {"field": "utm_source", "operator": "eq", "value": "spam"}\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Result:"})," ",(0,d.jsx)(n.code,{children:"country = 'ES' AND NOT (utm_source = 'spam')"})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"list-segments",children:"List Segments"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"GET /segments?account_id={account_id}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Get all segments for an account."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"account_id"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"required"}),(0,d.jsx)(n.td,{children:"Account ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"include_system"})}),(0,d.jsx)(n.td,{children:"boolean"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"true"})}),(0,d.jsx)(n.td,{children:"Include system segments"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "id": "seg_system_organic",\n      "name": "organic-search",\n      "display_name": "Organic Search",\n      "description": "Visitors from organic search results",\n      "color": "#10B981",\n      "is_system": true,\n      "filter_count": 1\n    },\n    {\n      "id": "seg_abc123",\n      "name": "paid-spain",\n      "display_name": "Paid Traffic Spain",\n      "description": "CPC traffic from Spain",\n      "color": "#F59E0B",\n      "is_system": false,\n      "filter_count": 2\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"get-segment",children:"Get Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"GET /segments/{segment_id}?account_id={account_id}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Get a segment by ID or name."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Path Parameters:"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"segment_id"})}),(0,d.jsx)(n.td,{children:"Segment ID (seg_xxx) or name slug (paid-spain)"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "seg_abc123",\n    "account_id": "my-site",\n    "name": "paid-spain",\n    "display_name": "Paid Traffic Spain",\n    "description": "CPC traffic from Spain",\n    "filters": {\n      "conditions": [\n        {"field": "utm_medium", "operator": "eq", "value": "cpc"},\n        {"field": "country", "operator": "eq", "value": "ES"}\n      ]\n    },\n    "color": "#F59E0B",\n    "is_system": false,\n    "created_by": 123,\n    "created_at": "2025-01-05T10:00:00Z",\n    "updated_at": "2025-01-05T10:00:00Z"\n  }\n}\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"create-segment",children:"Create Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"POST /segments?account_id={account_id}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Create a new segment."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Required scope:"})," ",(0,d.jsx)(n.code,{children:"editor"})," or higher"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "name": "eu-mobile-paid",\n  "display_name": "EU Mobile Paid Traffic",\n  "description": "Paid traffic from EU countries on mobile devices",\n  "filters": {\n    "conditions": [\n      {"field": "utm_medium", "operator": "eq", "value": "cpc"},\n      {"field": "device_type", "operator": "eq", "value": "mobile"},\n      {"field": "country", "operator": "in", "value": ["ES", "FR", "DE", "IT", "PT"]}\n    ]\n  },\n  "color": "#8B5CF6"\n}\n'})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Field"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Required"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Yes"}),(0,d.jsx)(n.td,{children:"Unique slug (lowercase, alphanumeric, hyphens)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"display_name"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Yes"}),(0,d.jsx)(n.td,{children:"Human-readable name (1-100 chars)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"description"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:"Description (max 500 chars)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"filters"})}),(0,d.jsx)(n.td,{children:"object"}),(0,d.jsx)(n.td,{children:"Yes"}),(0,d.jsx)(n.td,{children:"Filter conditions"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"color"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"No"}),(0,d.jsx)(n.td,{children:"Hex color code (#RRGGBB)"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Response (201 Created):"})," Full segment object"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"update-segment",children:"Update Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"PUT /segments/{segment_id}?account_id={account_id}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Update an existing segment."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "display_name": "EU Mobile CPC Traffic",\n  "filters": {\n    "conditions": [\n      {"field": "utm_medium", "operator": "in", "value": ["cpc", "ppc"]},\n      {"field": "device_type", "operator": "eq", "value": "mobile"},\n      {"field": "country", "operator": "in", "value": ["ES", "FR", "DE", "IT", "PT", "NL", "BE"]}\n    ]\n  }\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"All fields are optional. Only provided fields are updated."}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsx)(n.p,{children:"System segments cannot be modified. Duplicate them first if you need a variation."})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"delete-segment",children:"Delete Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"DELETE /segments/{segment_id}?account_id={account_id}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Delete a segment."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Response:"})," 204 No Content"]}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsx)(n.p,{children:"System segments cannot be deleted."})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"duplicate-segment",children:"Duplicate Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"POST /segments/{segment_id}/duplicate?account_id={account_id}&new_name={new_name}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Create a copy of an existing segment with a new name."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"new_name"})}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"Name for the new segment (slug format)"})]})})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"POST /segments/organic-search/duplicate?account_id=my-site&new_name=organic-search-spain\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Response (201 Created):"})," Full segment object of the new copy"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"system-segments",children:"System Segments"}),"\n",(0,d.jsx)(n.p,{children:"Sealmetrics includes built-in segments for common patterns:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Name"}),(0,d.jsx)(n.th,{children:"Display Name"}),(0,d.jsx)(n.th,{children:"Filter"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"all-traffic"})}),(0,d.jsx)(n.td,{children:"All Traffic"}),(0,d.jsx)(n.td,{children:"No filters"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"organic-search"})}),(0,d.jsx)(n.td,{children:"Organic Search"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_medium = organic"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"paid-search"})}),(0,d.jsx)(n.td,{children:"Paid Search"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"utm_medium = cpc"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"social"})}),(0,d.jsx)(n.td,{children:"Social Media"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"channel = Social"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"direct"})}),(0,d.jsx)(n.td,{children:"Direct Traffic"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"channel = Direct"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"referral"})}),(0,d.jsx)(n.td,{children:"Referral Traffic"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"channel = Referral"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"mobile"})}),(0,d.jsx)(n.td,{children:"Mobile Users"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"device_type = mobile"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"desktop"})}),(0,d.jsx)(n.td,{children:"Desktop Users"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"device_type = desktop"})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"System segments:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Cannot be modified or deleted"}),"\n",(0,d.jsx)(n.li,{children:"Can be duplicated to create custom variations"}),"\n",(0,d.jsx)(n.li,{children:"Are included by default in segment lists"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"using-segments-in-stats-endpoints",children:"Using Segments in Stats Endpoints"}),"\n",(0,d.jsxs)(n.p,{children:["Apply a segment to any stats endpoint with the ",(0,d.jsx)(n.code,{children:"segment"})," parameter:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"GET /stats/pages?account_id=my-site&segment=paid-spain\n"})}),"\n",(0,d.jsx)(n.p,{children:"You can reference segments by:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Name:"})," ",(0,d.jsx)(n.code,{children:"segment=paid-spain"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ID:"})," ",(0,d.jsx)(n.code,{children:"segment=seg_abc123"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"combining-segment-with-explicit-filters",children:"Combining Segment with Explicit Filters"}),"\n",(0,d.jsx)(n.p,{children:"When you use a segment AND explicit filter parameters:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-http",children:"GET /stats/pages?account_id=my-site&segment=paid-spain&utm_campaign=spring_sale\n"})}),"\n",(0,d.jsx)(n.p,{children:"The segment filters are applied first, then explicit parameters are added (AND logic)."}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"HTTP"}),(0,d.jsx)(n.th,{children:"Error Code"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"403"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"forbidden"})}),(0,d.jsx)(n.td,{children:"Editor permission required"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"403"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cannot_modify_system"})}),(0,d.jsx)(n.td,{children:"System segments cannot be modified"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"404"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"not_found"})}),(0,d.jsx)(n.td,{children:"Segment not found"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"409"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"conflict"})}),(0,d.jsx)(n.td,{children:"Segment name already exists"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,d.jsx)(n.h3,{id:"python---create-and-use-segment",children:"Python - Create and Use Segment"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'import requests\n\nAPI_KEY = "str_your_api_key"\nBASE_URL = "https://api.sealmetrics.com/api/v1"\nACCOUNT_ID = "my-site"\n\ndef create_segment(name, display_name, conditions, color=None):\n    """Create a new segment."""\n    response = requests.post(\n        f"{BASE_URL}/segments",\n        headers={"X-API-Key": API_KEY},\n        params={"account_id": ACCOUNT_ID},\n        json={\n            "name": name,\n            "display_name": display_name,\n            "filters": {"conditions": conditions},\n            "color": color\n        }\n    )\n    response.raise_for_status()\n    return response.json()["data"]\n\n\ndef get_stats_with_segment(segment_name, period="30d"):\n    """Get stats using a saved segment."""\n    response = requests.get(\n        f"{BASE_URL}/stats/overview",\n        headers={"X-API-Key": API_KEY},\n        params={\n            "account_id": ACCOUNT_ID,\n            "period": period,\n            "segment": segment_name\n        }\n    )\n    return response.json()["data"]\n\n\n# Create a segment for high-value EU traffic\nsegment = create_segment(\n    name="eu-converters",\n    display_name="EU Converters",\n    conditions=[\n        {"field": "country", "operator": "in", "value": ["ES", "FR", "DE", "IT"]},\n        {"field": "utm_medium", "operator": "in", "value": ["cpc", "email"]}\n    ],\n    color="#10B981"\n)\n\nprint(f"Created segment: {segment[\'id\']}")\n\n# Use the segment\nstats = get_stats_with_segment("eu-converters", "7d")\nprint(f"Conversions: {stats[\'conversions\']}")\nprint(f"Revenue: \u20ac{stats[\'revenue\']}")\n'})}),"\n",(0,d.jsx)(n.h3,{id:"javascript---list-and-apply-segments",children:"JavaScript - List and Apply Segments"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:"const API_KEY = 'str_your_api_key';\nconst BASE_URL = 'https://api.sealmetrics.com/api/v1';\nconst ACCOUNT_ID = 'my-site';\n\nasync function listSegments(includeSystem = true) {\n  const params = new URLSearchParams({\n    account_id: ACCOUNT_ID,\n    include_system: includeSystem\n  });\n\n  const response = await fetch(`${BASE_URL}/segments?${params}`, {\n    headers: { 'X-API-Key': API_KEY }\n  });\n\n  const { data } = await response.json();\n  return data;\n}\n\nasync function getStatsForAllSegments(period = '30d') {\n  const segments = await listSegments();\n  const results = {};\n\n  for (const segment of segments) {\n    const params = new URLSearchParams({\n      account_id: ACCOUNT_ID,\n      period,\n      segment: segment.name\n    });\n\n    const response = await fetch(`${BASE_URL}/stats/overview?${params}`, {\n      headers: { 'X-API-Key': API_KEY }\n    });\n\n    const { data } = await response.json();\n    results[segment.display_name] = {\n      entrances: data.entrances,\n      conversions: data.conversions,\n      revenue: data.revenue\n    };\n  }\n\n  return results;\n}\n\n// Usage\nconst comparison = await getStatsForAllSegments('30d');\nconsole.table(comparison);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"create-complex-segment-with-or-logic",children:"Create Complex Segment with OR Logic"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# Spanish mobile users OR French desktop users\ncomplex_segment = create_segment(\n    name="es-mobile-or-fr-desktop",\n    display_name="ES Mobile OR FR Desktop",\n    filters={\n        "groups": [\n            {\n                "conditions": [\n                    {"field": "country", "operator": "eq", "value": "ES"},\n                    {"field": "device_type", "operator": "eq", "value": "mobile"}\n                ]\n            },\n            {\n                "conditions": [\n                    {"field": "country", "operator": "eq", "value": "FR"},\n                    {"field": "device_type", "operator": "eq", "value": "desktop"}\n                ]\n            }\n        ]\n    }\n)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}}}]);